{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}



<br>
<h1 class="text-center">Oferta Laboral</h1>
<p>Postulante: {{postulantes.nombre}} {{postulantes.apellido_p}} {{postulantes.apellido_m}} </p>
<p>Colegio: {{postulantes.colegio1}}</p>

<br>
<div class="text-center">

</div>

<div id="popup"></div>

<form method="post" enctype="multipart/form-data">



    {% csrf_token %}
    
    <div class="row">

      <div class="col-4">
        {{form.carta_oferta|as_crispy_field}}
      </div>
      <br>
      <div class="col-12"></div>
      <div class="col-12"></div>
      <div class="col-12"></div>


<br>
      <div class="col-4">
        <br>
        <input class="a b"  type="checkbox" name="aceptada" id="aceptada" onclick="disable()">
        <label class="form-check-label" for="aceptada"> Aceptada </label>


        <br>
      </div>
      <div class="col-4">
        <br>
        <input class="d b" type="checkbox" name="rechazada" id="rechazada" onclick="disabler()">
        <label class="form-check-label" for="rechazada"> Rechazada</label>

        <br>
      </div>
      
      <div class="col-4">
        <br>
        <input class="d a" type="checkbox" name="liberar_2" id="liberar_2" onclick="disableb()">
        <label class="form-check-label" for="liberar_2"> Liberar siguiente preferencia</label>

        <br>
      </div>
    </div>
      <br>
      <button type="submit" class="btn btn-success btn-md">Guardar</button>

</form>
<script>
    var modal;
    function abrir_modal(url, titulo)
    {
        modal = $('#popup').dialog(
        {
            title: titulo,
            modal: true,
            width: 900,
            resizable: false
        }).dialog('open').load(url)
    }

    function cerrar_modal()
    {
        modal.dialog("close");
    }
</script>


<script>
  function disable() {
    var elements = document.getElementsByClassName("d");
    document.getElementById("aceptada").checked ? doIt(elements, true) : doIt(elements, false);

  }

  function doIt(elements, aceptada) {
    for (var i = 0; i < elements.length; i++) {
      elements[i].disabled = aceptada;
    }
  }
</script>

<script>
  function disabler() {
    var elements = document.getElementsByClassName("a");
    document.getElementById("rechazada").checked ? doIt(elements, true) : doIt(elements, false);

  }

  function doIt(elements, rechazada) {
    for (var i = 0; i < elements.length; i++) {
      elements[i].disabled = rechazada;
    }
  }
</script>

<script>
  function disableb() {
    var elements = document.getElementsByClassName("b");
    document.getElementById("liberar_2").checked ? doIt(elements, true) : doIt(elements, false);

  }

  function doIt(elements, liberar_2) {
    for (var i = 0; i < elements.length; i++) {
      elements[i].disabled = liberar_2;
    }
  }
</script>



{% endblock %}